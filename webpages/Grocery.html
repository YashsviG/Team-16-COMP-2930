<!DOCTYPE html>

<html>

    <head><title>Grocery Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">  

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">

    <!-- Latest compiled and minified CSS -->

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        
<link rel="stylesheet" type="text/css" href="styling.css">




<!-- jQuery library -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>



<!-- Latest compiled JavaScript -->

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>    

<style>
    a:hover{
        cursor: pointer;
    }
    a:active{
        color: black;
    }

@import url(https://fonts.googleapis.com/css?family=Roboto:400,900);

body, html {

}

    

.logo > img{

    width: 170px; 

    height: 150px;

    float: left;

} 

    .logo >img:hover{
        cursor: pointer;
    }
  

/* for search bar */    

input[type=text] {

  width: 130px;

  box-sizing: border-box;

  border: 2px solid #ccc;

  border-radius: 4px;

  font-size: 16px;

  background-color: white;

  background-image: url("../screenbg.jpg");

  background-position: left center; 
    
  outline: 0;

  background-repeat: no-repeat;

  padding: 12px 20px 12px 40px;

  -webkit-transition: width 0.4s ease-in-out;

  transition: width 0.4s ease-in-out;

}



input[type=text]:focus {

  width: 100%;

}

    .pure-button{

        background-color: #3A7855;

        float: right;

        margin-right: 20px;

        margin-top: 2px;

        padding: 12px 10px 12px 40px;

        text-align: center;

        color: white;

        border-radius: 4px;

        text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);

    }  

     

.sideNav{

    width: 200px;

    height: 350px;

    float: left;

    clear: both;

    background-color:#E5E5E5;
    
    border: solid 0.5px #C4C4C4;
    
    opacity: 0.91;
                
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); 

    margin: 10px 10px 10px 10px;

   

    color: black;

    

}  

    /*Hamburger Menu*/    
        .sideNav2{
            display: none;  
            margin-left: 150px;
        } 
    

.main{

    width: 1170px;

    height: 600px;

    float: left;

    background-color:#E5E5E5;
    
    border: solid 0.5px #C4C4C4;
    
    opacity: 0.91;
                
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); 


    margin: 10px 10px 10px 10px;

    

    color: black;

    

}    

    #rightDirection:hover{
        cursor: pointer;
    }   

/* media queries for responsive mobile-friendly page*/    

@media screen and (max-width: 480px){

    .pure-button{

        display:flex;

    }    

}



  .container2 .btn {

  position: absolute;

  top: 50%;

  left: 50%;

  background-color: #679267;

  color: white;

  font-size: 16px;

  padding: 12px 24px;

  border: none;

  cursor: pointer;

  border-radius: 5px;

  text-align: center;

}



.container2 .btn:hover {

  background-color: #3A7855;

} 



</style>
<!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js">
        </script>
        <!-- the magic line -->
        <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#config-web-app -->

        <script>
          // Your web app's Firebase configuration
          var firebaseConfig = {
            apiKey: "AIzaSyCOvdHqRz3f-5thaHgh8FxuGoBfbaGYL8M",
            authDomain: "ship-green-ec2e6.firebaseapp.com",
            databaseURL: "https://ship-green-ec2e6.firebaseio.com",
            projectId: "ship-green-ec2e6",
            storageBucket: "ship-green-ec2e6.appspot.com",
            messagingSenderId: "98708125955",
            appId: "1:98708125955:web:abb3048244ea3bca"
          };
          // Initialize Firebase
          firebase.initializeApp(firebaseConfig);
</script>
        

</head>

    <body>

    <!-- logo -->    

     <div class="logo" style="float: left;" id="logo">

        <img src="../images/logo%20(2).png" onclick="redirectHomePage()"/>

        </div> 
        <div></div>
        <br>
        <br>
        <div></div>
    

        <!-- Search bar -->

        <form style="float: left;">

         <input type="text" name="search" placeholder="Search..">

        </form>  

        <!-- Cart & Checkout button-->
        <a class="pure-button" href="123.html">
                <i class="fa fa-arrow-right"></i>
                Login/Sign up
            </a>

    <a class="pure-button" href="cart.html">

        <i class="fa fa-shopping-cart fa-lg"></i>

        Cart

    </a>

                 

    <a class="pure-button" href="CheckOutPage.html">

        <i class="fa fa-arrow-right"></i>

        Checkout

    </a>
        <!-- Hamburger menu -->
            <div class="sideNav2" id="sideNav2Div"><span style="font-size:30px;cursor:pointer; align: center;" onclick="openNav()">&#9776; </span></div>
        <div class="sideNav" id="sideNavDiv">
            <a style="float: left; clear: both;text-decoration-line: none; color: black" href="../demo.html"\><b>&nbsp;&nbsp;Home</b></a>
                 
                 <br/><br/>
           

            <b>&nbsp;&nbsp;Catalog&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>

                <a class="fa fa-angle-rightfa fa-angle-right" onclick="myFunction()" style="text-decoration-line: none; color: black; transition: height 350ms ease-in-out;" id="rightDirection"></a>

            

            <div id="list" style="padding-left: 20px; list-style: none; padding-top: 10px;">

            <li style="padding-bottom: 10px;"><a href="shoppingList.html" style="text-decoration: none; color: black;">Gardening</a></li>

            <li style="padding-bottom: 10px;"><a href="petFood.html" style="text-decoration: none; color: black;">Pet Food</a></li>

            <li style="padding-bottom: 10px;"><a href="Grocery.html" style="text-decoration: none; color: black;">Grocery</a></li>

            </div>    
            <br>
            <a style="float: left; clear: both; text-decoration: none; color: black;" href="About.html">&nbsp;&nbsp;<b>About Us</b></a>   

        </div>

        <div class="main" id="mainDiv">

            <h1><b> &nbsp;Groceries</b></h1>

            <h3>&nbsp;&nbsp;&nbsp;Cooking Oils</h3>

  

       

<div class="container">



  <div id="myCarousel" class="carousel slide" data-ride="carousel">

    <!-- Indicators -->

    <ol class="carousel-indicators">

      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>

      <li data-target="#myCarousel" data-slide-to="1"></li>

      <li data-target="#myCarousel" data-slide-to="2"></li>

    </ol>



    <!-- Wrapper for slides -->

    <div class="carousel-inner">

      <div class="item active">

             <div class="container2">

             <img src="../images/o1.jpg" alt="Olive oil" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="o1" class="btn" style="transform: translate(-310%,300%)" onclick="cartFunction()">Add to Cart</button></div>

             

             <div class="container2">

             <img src="../images/o2.jpg" alt="Canola" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="o2" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>

          

             <div class="container2">

             <img src="../images/o3.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="o3" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>

           

             <div class="container2">

             <img src="../images/o4.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="o4" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>

         

      </div>

    

      <div class="item">

        <div class="container2">

             <img src="../images/o5.jpg" alt="sesame" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="o5" class="btn" style="transform: translate(-310%,300%)" onclick="cartFunction()">Add to Cart</button></div>

             

             <div class="container2">

             <img src="../images/o6.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="o6" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>

          

             <div class="container2">

             <img src="../images/o7.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="o7" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>

           

             <div class="container2">

             <img src="../images/o8.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="o8" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>

      </div>

    </div>



    <!-- Left and right controls -->

    <a class="left carousel-control" href="#myCarousel" data-slide="prev">

      <span class="glyphicon glyphicon-chevron-left"></span>

      <span class="sr-only">Previous</span>

    </a>

    <a class="right carousel-control" href="#myCarousel" data-slide="next">

      <span class="glyphicon glyphicon-chevron-right"></span>

      <span class="sr-only">Next</span>

    </a>

  </div>

</div>

            <h3>&nbsp;&nbsp;&nbsp;Other Groceries</h3>

                   

<div class="container">



  <div id="myCarousel2" class="carousel slide" data-ride="carousel">

    <!-- Indicators -->

    <ol class="carousel-indicators">

      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>

      <li data-target="#myCarousel" data-slide-to="1"></li>

      <li data-target="#myCarousel" data-slide-to="2"></li>

    </ol>



    <!-- Wrapper for slides -->

    <div class="carousel-inner">

      <div class="item active">

             <div class="container2">

             <img src="../images/og1.jpg" alt="Los Angeles" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="og1" class="btn" style="transform: translate(-310%,300%)" onclick="cartFunction()">Add to Cart</button></div>

             

             <div class="container2">

             <img src="../images/og2.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="og2" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>

          

             <div class="container2">

             <img src="../images/og3.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="og3" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>

           

             <div class="container2">

             <img src="../images/og4.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="og4" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>
      </div>

      <div class="item">
        <div class="container2">

             <img src="../images/og5.jpg" alt="Los Angeles" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="og5" onclick="cartFunction()" class="btn" style="transform: translate(-310%,300%)">Add to Cart</button></div>

             

             <div class="container2">

             <img src="../images/og6.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="og6" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>

          

             <div class="container2">

             <img src="../images/og7.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="og7" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>

           

             <div class="container2">

             <img src="../images/og8.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="og8" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>

      </div>

    </div>



    <!-- Left and right controls -->

    <a class="left carousel-control" href="#myCarousel2" data-slide="prev">

      <span class="glyphicon glyphicon-chevron-left"></span>

      <span class="sr-only">Previous</span>

    </a>

    <a class="right carousel-control" href="#myCarousel2" data-slide="next">

      <span class="glyphicon glyphicon-chevron-right"></span>

      <span class="sr-only">Next</span>

    </a>

  </div>

            </div>

        </div>

        <script> // cart things
            // variable changes for the database paths based on the clicked item
            var item;
            var o1 = document.getElementById("o1").addEventListener("click", function(){item = "o1";});
            var o2 = document.getElementById("o2").addEventListener("click", function(){item = "o2";});
            var o3 = document.getElementById("o3").addEventListener("click", function(){item = "o3";});
            var o4 = document.getElementById("o4").addEventListener("click", function(){item = "o4";});
            var o5 = document.getElementById("o5").addEventListener("click", function(){item = "o5";});
            var o6 = document.getElementById("o6").addEventListener("click", function(){item = "o6";});
            var o7 = document.getElementById("o7").addEventListener("click", function(){item = "o7";});
            var o8 = document.getElementById("o8").addEventListener("click", function(){item = "o8";});
            var og1 = document.getElementById("og1").addEventListener("click", function(){item = "og1";});
            var og2 = document.getElementById("og2").addEventListener("click", function(){item = "og2";});
            var og3 = document.getElementById("og3").addEventListener("click", function(){item = "og3";});
            var og4 = document.getElementById("og4").addEventListener("click", function(){item = "og4";});
            var og5 = document.getElementById("og5").addEventListener("click", function(){item = "og5";});
            var og6 = document.getElementById("og6").addEventListener("click", function(){item = "og6";});
            var og7 = document.getElementById("og7").addEventListener("click", function(){item = "og7";});
            var og8 = document.getElementById("og8").addEventListener("click", function(){item = "og8";});
            
            // add to cart stuff
            var database = firebase.database();
            function cartFunction() { // if user clicks on add to cart button
                var user = firebase.auth().currentUser;
                if (user) { // if user is signed in
                    var user = firebase.auth().currentUser;
                    var uid = user.uid;
                    
                    var dbRef = firebase.database().ref().child("users");
                    dbRef.once('value', function(snapshot) {
                      if (snapshot.hasChild(uid)) { // if the uid node DOES exist
                          var itemRef = firebase.database().ref().child("users").child(uid).child("cart");
                          itemRef.once('value', function(snapshot) {
                              if (snapshot.hasChild(item)){
                                  var quantityRef = firebase.database().ref().child("users").child(uid).child("cart").child(item).child("quantity");
                                  quantityRef.transaction(function(quantity){
                                      if (quantity){
                                          quantity = quantity + 1;
                                      }
                                      return quantity;
                                  });
                                  console.log("item incremented");
                              } else {
                                  dbRef.child(uid).child("cart").child(item).set({
                                        status: "true",
                                        quantity: 1
                                  });
                                  console.log("item added");
                              }
                          });
                          
                      } else { // if the uid node does NOT exist
                            dbRef.child(uid).child("cart").child(item).set({
                                status: "true",
                                quantity: 1
                            });
                          console.log("item added and user created");
                      }
                    });
                } else { // if user is not signed in
                  window.location.href = "123.html";
                }
            }
        </script>

                  

        <script>
             function redirectHomePage() {
                window.location.href= "../index.html";
            }

         function myFunction() {

  var x = document.getElementById("list");

  if (x.style.display === "none") {

    x.style.display = "block";

  } else {

    x.style.display = "none";

  }

}
            //for Hamburger Menu
            function openNav(){
                  var x = document.getElementById("sideNavDiv");
                  if (x.style.display == "none") {
                    x.style.display = "block";
                  } else {
                    x.style.display = "none";
                  }
            }

        </script>

    </body>

</html>