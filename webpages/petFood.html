<!DOCTYPE html>
<html>
    <head><title>Pet Food</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>    
<style>
@import url(https://fonts.googleapis.com/css?family=Roboto:400,900);
body, html {
  height: 100%;
    /* The image used */
  background-image: url("https://images.unsplash.com/photo-1472841298542-80b08039a5ab?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80");

  /* Full height */
  height: 100%; 

  /* Center and scale the image nicely */
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  
}
    
.logo > img{
    width: 170px; 
    height: 150px;
    float: left;
} 
    .logo >img:hover{
        cursor: pointer;
    }
/* for search bar */    
input[type=text] {
  width: 130px;
  box-sizing: border-box;
  border: 2px solid #ccc;
  border-radius: 4px;
  font-size: 16px;
  background-color: white;
  background-image: url("http://i47.tinypic.com/r02vbq.png");
  background-position: left center;
  outline: 0;
  background-repeat: no-repeat;
  padding: 12px 20px 12px 40px;
  -webkit-transition: width 0.4s ease-in-out;
  transition: width 0.4s ease-in-out;
}

input[type=text]:focus {
  width: 100%;
}
    .pure-button{
        background-color: #3A7855;
        float: right;
        margin-right: 20px;
        margin-top: 2px;
        padding: 12px 10px 12px 40px;
        text-align: center;
        color: white;
        border-radius: 4px;
        text-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
    }  
     
.sideNav{
    width: 200px;
    height: 350px;
    float: left;
    clear: both;
    background-color:#679267;
    margin: 10px 10px 10px 10px;
    opacity: 0.7;
    color: beige;
    
}  
    
.main{
    width: 1170px;
    height: 600px;
    float: left;
    background-color:#679267;
    margin: 10px 10px 10px 10px;
    opacity: 0.7;
    color: beige;
    
}    
    #rightDirection:hover{
        cursor: pointer;
    }
    
/* media queries for responsive mobile-friendly page*/    
@media screen and (max-width: 480px){
    .pure-button{
        display:flex;
    }    
}

  .container2 .btn {
  position: absolute;
  top: 50%;
  left: 50%;
  background-color: #679267;
  color: white;
  font-size: 16px;
  padding: 12px 24px;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  text-align: center;
}

.container2 .btn:hover {
  background-color: #3A7855;
} 

</style>
     <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js">
        </script>
        <!-- the magic line -->
        <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#config-web-app -->

        <script>
          // Your web app's Firebase configuration
          var firebaseConfig = {
            apiKey: "AIzaSyCOvdHqRz3f-5thaHgh8FxuGoBfbaGYL8M",
            authDomain: "ship-green-ec2e6.firebaseapp.com",
            databaseURL: "https://ship-green-ec2e6.firebaseio.com",
            projectId: "ship-green-ec2e6",
            storageBucket: "ship-green-ec2e6.appspot.com",
            messagingSenderId: "98708125955",
            appId: "1:98708125955:web:abb3048244ea3bca"
          };
          // Initialize Firebase
          firebase.initializeApp(firebaseConfig);
</script>
 
        
</head>
    <body>
    <!-- logo -->    
     <div class="logo" style="float: left;">
        <img src="./images/transparent_logo.png"/ onclick="redirectHomePage()">
        </div> 
    
        <!-- Search bar -->
        <form style="float: left;">
         <input type="text" name="search" placeholder="Search..">
        </form>  
        <!-- Cart & Checkout button-->
        <a class="pure-button" href="123.html">
                <i class="fa fa-arrow-right"></i>
                Login/Sign up
            </a>
    <a class="pure-button" href="cart.html">
        <i class="fa fa-shopping-cart fa-lg"></i>
        Cart
    </a>
                 
    <a class="pure-button" href="./CheckOutPage.html">
        <i class="fa fa-arrow-right"></i>
        Checkout
    </a>
        <div class="sideNav">
            <br/>
            <b>&nbsp;&nbsp;Home, Kitchen, Pet&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</b>
                <a class="fa fa-angle-rightfa fa-angle-right" onclick="myFunction()" style="text-decoration-line: none; color: beige; transition: height 350ms ease-in-out;" id="rightDirection"></a>
            
            <div id="list" style="padding-left: 20px; list-style: none; padding-top: 10px;">
            <li style="padding-bottom: 10px;"><a href="shoppingList.html" style="text-decoration: none; color: beige;">Gardening</a></li>
            <li style="padding-bottom: 10px;"><a href="petFood.html" style="text-decoration: none; color: beige;">Pet Food</a></li>
            <li style="padding-bottom: 10px;"><a href="Grocery.html" style="text-decoration: none; color: beige;">Grocery</a></li>
            </div>    
                
        </div>
        <div class="main">
            <h1><b> &nbsp;Bestseller</b></h1> 
            <h3>&nbsp;&nbsp;&nbsp;Cat Food</h3>
  
       
<div class="container">

  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner">
      <div class="item active">
             <div class="container2">
             <img src="./images/catFood1.jpg" alt="Los Angeles" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="cf1" class="btn" style="transform: translate(-310%,300%)" onclick="cartFunction()">Add to Cart</button></div>
             
             <div class="container2">
             <img src="./images/catFood2.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="cf2" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>
          
             <div class="container2">
             <img src="./images/catFood3.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="cf3" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>
           
             <div class="container2">
             <img src="./images/catFood4.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="cf4" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>
         
      </div>
    
      <div class="item">
        <div class="container2">
             <img src="./images/catFood5.jpg" alt="Los Angeles" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="cf5" class="btn" style="transform: translate(-310%,300%)" onclick="cartFunction()">Add to Cart</button></div>
             
             <div class="container2">
             <img src="./images/catFood6.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="cf6" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>
          
             <div class="container2">
             <img src="./images/catFood7.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="cf7" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>
           
             <div class="container2">
             <img src="./images/catFood8.jpg" alt="f" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="cf8" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>
            <h3>&nbsp;&nbsp;&nbsp;Dog Food</h3>
                   
<div class="container">

  <div id="myCarousel2" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner">
      <div class="item active">
          
             <div class="container2">
             <img src="./images/dogFood1.jpg" alt="Los Angeles" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="df1" class="btn" style="transform: translate(-310%,300%)" onclick="cartFunction()">Add to Cart</button></div>
             
             <div class="container2">
             <img src="./images/dogFood2.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="df2" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>
          
             <div class="container2">
             <img src="./images/dogFood3.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="df3" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>
           
             <div class="container2">
             <img src="./images/dogFood4.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="df4" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>
         
      </div>
    
      <div class="item">
        <div class="container2">
             <img src="./images/dogFood5.jpg" alt="Los Angeles" style="width:200px; height: 200px; margin-left: 130PX; float: left;"><button id="df5" class="btn" style="transform: translate(-310%,300%)" onclick="cartFunction()">Add to Cart</button></div>
             
             <div class="container2">
             <img src="./images/dogFood6.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 30px; margin-right: 20px;"><button id="df6" class="btn" style="transform: translate(-135%,300%)" onclick="cartFunction()">Add to Cart</button></div>
          
             <div class="container2">
             <img src="./images/dogFood7.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="df7" class="btn" style="transform: translate(45%,300%)" onclick="cartFunction()">Add to Cart</button></div>
           
             <div class="container2">
             <img src="./images/dogFood8.jpg" alt="Chicago" style="width:200px;  height: 200px;float:left;margin-left: 10px; margin-right: 20px;"><button id="df8" class="btn" style="transform: translate(220%,300%)" onclick="cartFunction()">Add to Cart</button></div>
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel2" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel2" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
            </div>
        </div>
        
        <script> // cart things
            // variable changes for the database paths based on the clicked item
            var item;
            var cf1 = document.getElementById("cf1").addEventListener("click", function(){item = "cf1";});
            var cf2 = document.getElementById("cf2").addEventListener("click", function(){item = "cf2";});
            var cf3 = document.getElementById("cf3").addEventListener("click", function(){item = "cf3";});
            var cf4 = document.getElementById("cf4").addEventListener("click", function(){item = "cf4";});
            var cf5 = document.getElementById("cf5").addEventListener("click", function(){item = "cf5";});
            var cf6 = document.getElementById("cf6").addEventListener("click", function(){item = "cf6";});
            var cf7 = document.getElementById("cf7").addEventListener("click", function(){item = "cf7";});
            var cf8 = document.getElementById("cf8").addEventListener("click", function(){item = "cf8";});
            var df1 = document.getElementById("df1").addEventListener("click", function(){item = "df1";});
            var df2 = document.getElementById("df2").addEventListener("click", function(){item = "df2";});
            var df3 = document.getElementById("df3").addEventListener("click", function(){item = "df3";});
            var df4 = document.getElementById("df4").addEventListener("click", function(){item = "df4";});
            var df5 = document.getElementById("df5").addEventListener("click", function(){item = "df5";});
            var df6 = document.getElementById("df6").addEventListener("click", function(){item = "df6";});
            var df7 = document.getElementById("df7").addEventListener("click", function(){item = "df7";});
            var df8 = document.getElementById("df8").addEventListener("click", function(){item = "df8";});
            
            // add to cart stuff
            var database = firebase.database();
            function cartFunction() { // if user clicks on add to cart button
                var user = firebase.auth().currentUser;
                if (user) { // if user is signed in
                    var user = firebase.auth().currentUser;
                    var uid = user.uid;
                    
                    var dbRef = firebase.database().ref().child("users");
                    dbRef.once('value', function(snapshot) {
                      if (snapshot.hasChild(uid)) { // if the uid node DOES exist
                          var itemRef = firebase.database().ref().child("users").child(uid).child("cart");
                          itemRef.once('value', function(snapshot) {
                              if (snapshot.hasChild(item)){
                                  var quantityRef = firebase.database().ref().child("users").child(uid).child("cart").child(item).child("quantity");
                                  quantityRef.transaction(function(quantity){
                                      if (quantity){
                                          quantity = quantity + 1;
                                      }
                                      return quantity;
                                  });
                                  console.log("item incremented");
                              } else {
                                  dbRef.child(uid).child("cart").child(item).set({
                                        status: "true",
                                        quantity: 1
                                    });
                                  console.log("item added");
                              }
                          });
                          
                      } else { // if the uid node does NOT exist
                            dbRef.child(uid).child("cart").child(item).set({
                                status: "true",
                                quantity: 1
                            });         
                          console.log("item added and user created");
                      }
                    });
                } else { // if user is not signed in
                  window.location.href = "123.html";
                }
            }
        </script>

        <script>
             function redirectHomePage() {
                                window.location.href= "../index.html";
                            }
                         function myFunction() {
                  var x = document.getElementById("list");
                  if (x.style.display === "none") {
                    x.style.display = "block";
                  } else {
                    x.style.display = "none";
                  }
                }
        </script>
    </body>
</html>
